name: WorkFlow de despligue en rama main
on:
  push:
    branches:
      - main

jobs: 
  SAST:
    runs-on: ubuntu-

    steps:
       - name: Checkout Code
         uses: actions/checkout@v3

       - name: Set Up JDK 17
         uses: actions/setup-java@v2
         with:
           java-version: '17'
           distribution: 'adopt'

       - name: Set Enviroment Variables
         run: echo "BRACH_NAME=${{ github.ref_name }}" >> $GITHUB_ENV

       - name: Validate and Configure build
         env:
           SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
         run: |
            if [ -f "build.gradle"]; then
             echo "Encontrado archivo"
           else
             echo "no se encuentra archivo"
             exit 1
           fi
      
